Automated site testing generally makes use of [Selenium](https://www.selenium.dev/). Selenium is a tool that automates browsers (a *web driver*), allowing for the creation of automated testing suites in a variety of languages that can interface with a variety of browsers through a single platform.

[[_TOC_]]

# Creating the Pytest Environment

In our exercises, we created a new directory to park a copy of all the files we were testing as well as the webdriver and code to test them with.

1. Create the new directory that you want to keep all this cool new stuff in.
Example: `mkdir c:\ce02\ux`. This creates a new directory called "`ux`" in the `ce02` folder that was our base folder.
1. Navigate to the new directory.
Example: `cd c:\ce02\ux`.
1. Clone your current working directory into this new one. That's a "copy-paste" in Explorer, don't mind the fancy words.
Example: `git clone <my repository> -b ux_tests`. This clones your online repository to your folder. This is admittedly not a "copy-paste", but in a cloud/collaborative environment, you probably weren't working purely on your local machine anyway... Besides, "`git clone`" is basically a "copy-paste", but over the internet.
1. Do a quick check of your directory. Run `git status`. The *correct answer* is `your branch is up to date with '<your directory>'`.
1. Download your test suite. In this case, this would have been [tests.zip](/.attachments/tests-442d054e-7292-4b30-9d3b-c7a882e2f902.zip) (click to download - maybe it works, maybe it doesn't).
1. Download your web driver. In this case, we're testing in Chrome, so the web driver can be found [here](https://chromedriver.storage.googleapis.com/index.html?path=95.0.4638.69/). Pick the relevant one.
1. PAY ATTENTION NOW:
Unzip your `tests.zip` folder.
Unzip your Chrome driver.
Put the naked driver executable/program into the `test\ux` folder that is *inside* the `tests` folder that you've just unzipped.
Put the `tests` folder that has all that good stuff in it *inside* your cloned directory at *the same level as the* `.gitignore` *file*.
1. **If you plan to be working with pipelines or cloud machines later on** you may want to consider adding the chrome driver executable and other files in the test folder to `.gitignore` *before* doing any `git adds`, `commits`, or `push`. Saves a headache later.
   - The headache has been had and I'm back now to state explicitly what needs to happen.
   - The scripts, like the public folder, are generated by the test code. They do not need to be synced up to the main repository because they update themselves and are created as outputs/working files, which just makes them silly baggage to pull and push all over the place.
   - **Add the following** to the `.gitignore` file:
      - `**/Scripts/`
      - `chromedriver.exe`
      - `**/tests/ux/*.png` (this tells it to ignore the screenshots that the test generates - they're useful for testers to help figure out what happened, but the repository won't appreciate anyone dumping .png files into it.)
1. Launch Command Prompt from this folder (type `cmd` in the address bar at the top in Explorer).
1. Launch VSCode through Command Prompt by typing `code .`.
1. In VSCode, open a PowerShell terminal and run command `python -m venv .`. This creates a virtual python environment within the current folder.
1. Run command `.\scripts\activate`.
1. Run command `pip install -r requirements.txt`.
1. Run command `pytest --version`. IF you are successful, this command will return a neat line about which version of pytest you have active.

There you go! Your pytest environment is now ready to go. Go and test some websites!

# Troubleshooting

If you hit errors, particularly after step 11, go back through and check which directory you've put things in and which directory you're running things from. There's running behind the scenes, and then there's running the wrong scenes entirely...